<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Centerville Nutrition</title>
        <link rel="stylesheet" href="general.css" />
        <link rel="stylesheet" href="account.css" />
		<link rel="stylesheet" href="register.css" />


        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Playball&display=swap"
            rel="stylesheet"
        />


        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Geologica:wght@100..900&family=Playball&display=swap"
            rel="stylesheet"
        />
    </head>
    <body>
        <div class="container">
            <nav class="home-nav">
                <a class="logo" href="index.html">
                    <h1>Centerville Nutrition</h1>
                    <span>
                        <div class="logoUnder1"></div>
                        <div class="logoUnder2"></div>
                    </span>
                </a>


                <div class="main-nav">
                    <a href="mMenu.html">Menu</a>
                    <a href="rewards.html">Rewards</a>
                    <a href="register.html">Sign In</a>
                    <!--bag icon--><a href="cart.html"
                        ><svg
                            class="icon-bag"
                            version="1.1"
                            viewBox="0.0 0.0 149.35958005249344 115.65879265091864"
                            fill="none"
                            stroke="none"
                            stroke-linecap="square"
                            stroke-miterlimit="10"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <clipPath id="p.0">
                                <path
                                    d="m0 0l149.35957 0l0 115.65879l-149.35957 0l0 -115.65879z"
                                    clip-rule="nonzero"
                                />
                            </clipPath>
                            <g clip-path="url(#p.0)">
                                <path
                                    fill="#000000"
                                    fill-opacity="0.0"
                                    d="m0 0l149.35957 0l0 115.65879l-149.35957 0z"
                                    fill-rule="evenodd"
                                />
                                <path
                                    fill="#fff9fb"
                                    d="m34.52231 46.143044l0 0c0 -25.409575 17.867249 -46.04065 39.97361 -46.156994c22.106361 -0.1163453 40.13723 20.3258 40.33967 45.73431l-12.22892 0.12872314l0 0c-0.13323212 -18.679798 -12.671074 -33.71457 -28.047867 -33.63364c-15.376793 0.08092785 -27.80693 15.247105 -27.80693 33.9276z"
                                    fill-rule="evenodd"
                                />
                                <path
                                    fill="#fff9fb"
                                    d="m2.0341208 43.640434l0 0c0 -7.3754005 5.978943 -13.354345 13.354343 -13.354345l118.58265 0c3.5417938 0 6.9385223 1.406971 9.442947 3.911398c2.504425 2.504425 3.9113922 5.9011536 3.9113922 9.442947l0 58.67714c0 7.3753967 -5.978943 13.35434 -13.35434 13.35434l-118.58265 0c-7.3754005 0 -13.354343 -5.978943 -13.354343 -13.35434z"
                                    fill-rule="evenodd"
                                />
                            </g>
                        </svg>
                    </a>
                </div>
            </nav>


            <div class="main-content account-content">
				<div class="account-container">
					
					<h1>Brayden</h1>
					
					<div class="receipt-box">
						<h3>Transaction History</h3>
						
						<div class="receipt-list">
							
							<div class='transaction'>
								<h4>September 17th 2025, 8:42 PM<h4>
								<h5>$19.99</h5>
								<input class="view-receipt" href="#" value="View Reciept" type="submit"/>
							</div>
							<hr style="color: blue">
							
							
							<!--
							If no receipts
							
							<div class="empty-receipt">
								<h2>You have no purchases on this account</h2>
								<a href="mMenu.html">Get Started</a>
							</div>
							-->
						</div>					
						
					</div>
					
					<form class="account-btns" method="POST">
							<button class="btn-account" type="button" onclick="togglePop()">Edit Info</button>
							<input class="btn-account sign-out"type="submit" value="Sign Out" name="logout"/>	
					</form>
				</div>
				
				<!-- edit user popup -->
				<div class="POP popup popUp-container">
						
						<form class="sign-form edit-form" method="POST" style="">
						<button class="out" onclick="togglePop()">âœ•</button>
						
						<section id="regPage1">
							<h1>Edit Account</h1>
							
							<p>Email</p>
							<input class="reg-text reg-text2" placeholder="email.com" type="text" name="email" required disabled style="width: 100%"/>
							
							<p>First Name</p>
							<input class="reg-text reg-text2" type="text" name="firstName" required/>
						
							<p>Last Name</p>
							<input class="reg-text reg-text2" type="text" name="lastName" required/>

								<input name="nameChange" class="reg-submit change-btn" type="submit" value="Confirm"/>
								<button class="reg-next" onclick="nextPage()" type="button">Change Password</button>
							</section>
						
						<section id="regPage2" class="POP">
							<h1>Change Password</h1>
							<span class="regPass">
								<section>
									<h3 class="regPass-title">Password Requirements</h3>
								
									<ul>
										<li class="reg-error" id="req0">Passwords must match</li>
										<li class="reg-error" id="req1">At least 8 characters</li>
										<li class="reg-error" id="req2">At least 1 uppercase letter</li>
										<li class="reg-error" id="req3">At least 1 lowercase letter</li>
										<li class="reg-error" id="req4">At least 1 number</li>
										<li class="reg-error" id="req5">At least 1 special character</li>
									</ul>
								</section>
						
								<section>
									<p>Password</p>
									<input class="reg-text reg-text2" type="password" name="password" id="password1" onkeyup="checkPassword()" />	
								
									<p>Confirm Password</p>
									<input class="reg-text reg-text2" type="password" name="password2" id="password2" onkeyup="checkPassword()" />
								</section>
							</span>
							<input name="submit" id="accountSubmit" class="reg-submit change-btn" type="submit" value="Change Password" disabled/>
							<button class="reg-next" onclick="nextPage()" type="button" style="margin-bottom: 24px">Edit Info</button>
							
							</section>
						
						
					</form>
					</div>
			</div>
			
		</div>
		
		
	</body>
	<script>
			function togglePop() {
				document.querySelector(".popup").classList.toggle("POP");
				//console.log("toggled Popup");
			}
			
			function nextPage() {
				document.getElementById("regPage1").classList.toggle("POP");
				document.getElementById("regPage2").classList.toggle("POP");
			}



			//Password requirements for account creation
			let passwordStrong = false; 




			function checkPassword() {
			//passwords
			let submit = document.getElementById("accountSubmit");
			
			var password1 = document.getElementById("password1").value.trim();
			var password2 = document.getElementById("password2").value.trim();
			
			
			console.log(password1 + ", " + password2)
			//req0
			var match = password1 === password2 && password1 != ""
			
			//req1
            var length = password1.length >= 8;

            //req2
            var upper = /[A-Z]/.test(password1);

            //req3
            var lower = /[a-z]/.test(password1);

            //req4
            var number = /\d/.test(password1);

            //req5
            var special = /[!@#$%^&*(),.?:{}|<>]/.test(password1.trim());

			//Check reqs
			let reqs = [match, length, upper, lower, number, special]
			
			for (let i = 0; i <= 5; i++) {
				if (!reqs[i]) {
					document.getElementById("req" + i).classList.add("reg-error");
				} else {
					document.getElementById("req" + i).classList.remove("reg-error");
				}
			}

            //Final check
            passwordGood = match && length && upper && lower && number && special;
			console.log("Match:" + match);
			console.log("Upper:" + upper);
			console.log("Lower:" + lower);
			console.log("Number:" + number);
			console.log("Special:" + special);
			console.log("Final:" + passwordGood);
			console.log("\nSTOP\n")

            if(passwordGood) {
				submit.disabled = false;
			} else {
				submit.disabled = true;
			}
            
        }
	</script>
</html>